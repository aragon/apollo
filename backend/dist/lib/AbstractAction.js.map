{"version":3,"file":"AbstractAction.js","sourceRoot":"","sources":["../../lib/AbstractAction.ts"],"names":[],"mappings":";;AAOA;IAaI,wBAAY,OAAuB;QAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACjD,CAAC;IAaS,wCAAe,GAAzB,UAA0B,OAAuB;QAC7C,OAAO,OAAO,CAAC;IACnB,CAAC;IAoBD,sBAAkB,wBAAM;aAAxB;YACI,OAAO;gBACH,IAAI,EAAE;oBACF,IAAI,EAAE,QAAQ;oBACd,QAAQ,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC;oBAClC,UAAU,EAAE;wBACR,OAAO,EAAE;4BACL,KAAK,EAAE;gCACL,EAAE,IAAI,EAAE,QAAQ,EAAC;gCACjB,EAAE,IAAI,EAAE,QAAQ,EAAC;6BAClB;yBACF;wBACH,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;qBAChC;iBACJ;aACa,CAAA;QACtB,CAAC;;;OAAA;IACL,qBAAC;AAAD,CAAC,AAnED,IAmEC","sourcesContent":["import { FastifySchema, FastifyRequest } from 'fastify'\n\nexport interface Params {\n    message: string | any,\n    signature: string,\n}\n\nexport default abstract class AbstractAction<T> {\n    /**\n     * The given request by the user\n     * \n     * @var {Request} parameters\n     */\n    protected request: FastifyRequest;\n\n    /**\n     * @param {Request} parameters \n     * \n     * @constructor\n     */\n    constructor(request: FastifyRequest) {\n        this.request = this.validateRequest(request);\n    }\n\n     /**\n      * Validates the given request body.\n      * \n      * @method validateRequest \n      * \n      * @param {Request} request \n      * \n      * @returns {Request}\n      * \n      * @protected\n      */\n    protected validateRequest(request: FastifyRequest): FastifyRequest {\n        return request;\n    }\n\n    /**\n     * Executes the actual action\n     * \n     * @method execute\n     * \n     * @returns {Promise<any>} \n     * \n     * @public\n     */\n    public abstract execute(): Promise<T>\n\n    /**\n     * Returns the required request schema\n     * \n     * @property schema\n     * \n     * @returns {FastifySchema}\n     */\n    public static get schema(): FastifySchema {\n        return {\n            body: {\n                type: 'object',\n                required: ['message', 'signature'],\n                properties: {\n                    message: {\n                        oneOf: [\n                          { type: 'string'},\n                          { type: 'object'}\n                        ]\n                      },\n                    signature: { type: 'string' }\n                }\n            }\n        } as FastifySchema\n    }\n}\n"]}