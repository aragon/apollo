{"version":3,"file":"Database.js","sourceRoot":"","sources":["../../../src/db/Database.ts"],"names":[],"mappings":";;AAAA,mCAAsC;AAGtC;IAeI,kBAAoB,MAAuB;QAAvB,WAAM,GAAN,MAAM,CAAiB;QACvC,IAAI,CAAC,OAAO,EAAE,CAAA;IAClB,CAAC;IAWO,0BAAO,GAAf;QACI,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC;YAChB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;YAC9B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YAC1B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ;SACjC,CAAC,CAAC;IACP,CAAC;IAaM,wBAAK,GAAZ,UAAgB,KAAa;QACzB,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IACL,eAAC;AAAD,CAAC,AApDD,IAoDC","sourcesContent":["import postgres = require('postgres');\nimport { DatabaseOptions } from '../config/Configuration'\n\nexport default class Database {\n    /**\n     * The sql function of the postgres client\n     * \n     * @property {Function} sql\n     * \n     * @private\n     */\n    private sql: any;\n\n    /** \n     * @param {DatabaseOptions} config - The database configuration\n     * \n     * @constructor\n     */\n    constructor(private config: DatabaseOptions) { \n        this.connect()\n    }\n\n    /**\n     * Establishes the connection to the postgres DB\n     * \n     * @method connect\n     * \n     * @returns {void}\n     * \n     * @private\n     */\n    private connect(): void {\n        this.sql = postgres({\n            host: this.config.host,\n            port: this.config.port,\n            database: this.config.database,\n            username: this.config.user,\n            password: this.config.password\n        });\n    }\n\n    /**\n     * Executes a query on the DB\n     * \n     * @method query \n     * \n     * @param {string} query - The SQL statement\n     * \n     * @returns {Promise<any>}\n     * \n     * @public \n     */\n    public query<T>(query: string): Promise<T> {\n        return this.sql(query);\n    }\n}\n"]}